---
import { getCollection } from "astro:content";

import Layout from "../../../layouts/PageLayout.astro";
import Section from "../../../components/Section.astro";
import BadgeContainer from "../../../components/BadgeContainer.astro";

import ProjectContainer from "../../../components/ProjectContainer.astro";
import ProjectShowcase from "../../../components/ProjectShowcase.astro";

const experiences = await getCollection("experiences");
const projects = await getCollection("gameArticles");

const gameExp = experiences
  .find((e) => e.id === "game")
  ?.data.sort((a, b) => a.title.localeCompare(b.title));
---

<Layout
  title="Game"
  description="Matthew Ubalde game development portfolio. Have experience in Godot and Unity to create well designed games."
>
  <div class="flex flex-col sm:flex-row justify-between gap-8 m-8">
    <Section noMargin textContent class="sm:w-1/3">
      <h1>Experience Summary</h1>
      <p>
        Was taught on how to use the Unity Engine, but developed games as a
        side-hobby with Godot. This is purely as an interest, but willing to try
        to break into this industry when given the opportunity.
      </p>
    </Section>
    <Section noMargin textContent class="flex-grow">
      <h1>Game Experiences</h1>
      {gameExp && <BadgeContainer src={gameExp} />}
    </Section>
  </div>
  <Section textContent class="sm:w-1/2 sm:mx-auto">
    <h1>Games for Fun</h1>
    <p>
      These are purely made out of fun as I found the game development
      interesting since I was really young. I like making games that are simple,
      but tried to make it deep and rewarding at the same time.
    </p>
  </Section>
  <ProjectContainer>
    {
      projects &&
        projects.map((p) => (
          <ProjectShowcase
            title={p.data.title}
            description={p.data.description}
            coverImage={p.data.coverImage}
            coverImageAlt={p.data.coverImageAlt}
            href={`game/${p.id}`}
            itchioLink={p.data.itchio}
            steamLink={p.data.steam}
            githubLink={p.data.github}
          />
        ))
    }
  </ProjectContainer>
  <!-- <Fragment slot="projectAbout">
    <h1>Games for Fun</h1>
    <p>
      These are purely made out of fun as I found the game development
      interesting since I was really young. I like making games that are simple,
      but tried to make it deep and rewarding at the same time.
    </p>
  </Fragment>
  <Fragment slot="projects">
    {gameProj && <ProjectContainer src={gameProj} />}
  </Fragment> -->
</Layout>
